"use strict";(self["webpackChunkcasestudy"]=self["webpackChunkcasestudy"]||[]).push([[120],{5572:(t,e,a)=>{a.d(e,{C:()=>l,_:()=>r});const s="/api/",r=async t=>{let e,a=c();try{let r=await fetch(`${s}${t}`,{method:"GET",headers:a});e=await r.json()}catch(r){console.log(r),e={error:`Error has occured: ${r.message}`}}return e},l=async(t,e)=>{let a,r=c();try{let l=await fetch(`${s}${t}`,{method:"POST",headers:r,body:JSON.stringify(e)});a=await l.json()}catch(l){a=l}return a},c=()=>{const t=new Headers,e=JSON.parse(sessionStorage.getItem("customer"));return e?(t.append("Content-Type","application/json"),t.append("Authorization","Bearer "+e.token)):t.append("Content-Type","application/json"),t}},7081:(t,e,a)=>{a.d(e,{p6:()=>l,tF:()=>r,xG:()=>s});const s=t=>0!==t||null!=t?`Starting at ${t.toLocaleString("en-US",{style:"currency",currency:"USD"})}`:"N/A",r=t=>null!==t?`${t.toLocaleString("en-US",{style:"currency",currency:"USD"})}`:"N/A",l=t=>{let e;e=void 0===t?new Date:new Date(Date.parse(t));let a=e.getDate(),s=e.getMonth()+1,r=e.getFullYear(),l=e.getHours(),c=e.getMinutes();return c<10&&(c="0"+c),r+"-"+s+"-"+a+" "+l+":"+c}},7120:(t,e,a)=>{a.r(e),a.d(e,{default:()=>I});var s=a(9835),r=a(6970);const l={class:"text-center"},c=(0,s._)("div",{class:"text-h4 q-mt-md"},"Cart Contents",-1),o=["src"],n={class:"text-h6 text-positive"},i={key:0,style:{"margin-left":"3vh","margin-right":"3vh","margin-top":"1vh","font-size":"medium"}},u=(0,s.Uk)("Name"),d=(0,s.Uk)("Qty"),p=(0,s.Uk)("Price"),m=(0,s.Uk)(" Subtotal: "),g=(0,s.Uk)(" Tax(13%): "),w=(0,s.Uk)(" Total: "),h={class:"text-center",style:{"margin-top":"5vh"}};function S(t,e,a,S,f,_){const x=(0,s.up)("q-avatar"),y=(0,s.up)("q-item-section"),b=(0,s.up)("q-item"),v=(0,s.up)("q-list"),k=(0,s.up)("q-card"),W=(0,s.up)("q-scroll-area"),U=(0,s.up)("q-btn");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",l,[c,(0,s.Wm)(x,{class:"q-mt-md",size:"xxl",square:""},{default:(0,s.w5)((()=>[(0,s._)("img",{src:"img/cart.png"},null,8,o)])),_:1}),(0,s._)("div",n,(0,r.zw)(S.state.status),1)]),S.state.cart.length>0?((0,s.wg)(),(0,s.iD)("div",i,[(0,s._)("div",null,[(0,s.Wm)(W,{style:{height:"40vh"}},{default:(0,s.w5)((()=>[(0,s.Wm)(k,{class:"q-ma-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(v,{separator:""},{default:(0,s.w5)((()=>[(0,s.Wm)(b,null,{default:(0,s.w5)((()=>[(0,s.Wm)(y,{class:"col text-bold"},{default:(0,s.w5)((()=>[u])),_:1}),(0,s.Wm)(y,{class:"col text-bold"},{default:(0,s.w5)((()=>[d])),_:1}),(0,s.Wm)(y,{class:"col text-bold"},{default:(0,s.w5)((()=>[p])),_:1})])),_:1}),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(S.state.cart,(t=>((0,s.wg)(),(0,s.j4)(b,{key:t.id},{default:(0,s.w5)((()=>[(0,s.Wm)(y,{class:"col"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,r.zw)(t.product.productName),1)])),_:2},1024),(0,s.Wm)(y,{class:"col"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,r.zw)(t.qty),1)])),_:2},1024),(0,s.Wm)(y,{class:"col"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,r.zw)(S.toUSD(t.product.msrp)),1)])),_:2},1024)])),_:2},1024)))),128)),(0,s.Wm)(b,null,{default:(0,s.w5)((()=>[(0,s.Wm)(y,{class:"col-8 text-bold text-right"},{default:(0,s.w5)((()=>[m])),_:1}),(0,s.Wm)(y,{class:"col text-bold"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,r.zw)(S.toUSD(S.state.priceSub)),1)])),_:1})])),_:1}),(0,s.Wm)(b,null,{default:(0,s.w5)((()=>[(0,s.Wm)(y,{class:"col-8 text-bold text-right"},{default:(0,s.w5)((()=>[g])),_:1}),(0,s.Wm)(y,{class:"col text-bold"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,r.zw)(S.toUSD(S.state.priceTax)),1)])),_:1})])),_:1}),(0,s.Wm)(b,null,{default:(0,s.w5)((()=>[(0,s.Wm)(y,{class:"col-8 text-bold text-right"},{default:(0,s.w5)((()=>[w])),_:1}),(0,s.Wm)(y,{class:"col text-bold"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,r.zw)(S.toUSD(S.state.priceTot)),1)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})]),(0,s._)("div",h,[(0,s.Wm)(U,{color:"positive",push:"",icon:"shopping_cart_checkout",label:"Checkout",disable:S.state.cart.length<1,onClick:e[0]||(e[0]=t=>S.saveCart())},null,8,["disable"]),(0,s.Wm)(U,{color:"negative",push:"",icon:"remove_shopping_cart",label:"Empty Cart",disable:S.state.cart.length<1,onClick:e[1]||(e[1]=t=>S.clearCart())},null,8,["disable"])])])):(0,s.kq)("",!0)],64)}var f=a(499),_=a(7081),x=a(5572);const y={setup(){(0,s.bv)((()=>{sessionStorage.getItem("cart")?(t.cart=JSON.parse(sessionStorage.getItem("cart")),t.cart.forEach((e=>{t.priceSub+=e.product.msrp*e.qty})),t.priceTax=t.priceSub*t.tax,t.priceTot=t.priceSub+t.priceTax):t.cart=[]}));let t=(0,f.qj)({status:"",tax:.13,priceSub:0,priceTot:0,priceTax:0,cart:[]});const e=()=>{sessionStorage.removeItem("cart"),t.cart=[],t.status="Cart emptied"},a=async()=>{let a=JSON.parse(sessionStorage.getItem("customer")),s=JSON.parse(sessionStorage.getItem("cart"));try{t.status="Saving the cart...";let r={email:a.email,selections:s},l=await(0,x.C)("order",r);l.indexOf("not")>0||e(),t.status=l}catch(r){console.log(r),t.status=`Error add cart: ${r}`}};return{state:t,clearCart:e,toUSD:_.tF,saveCart:a}}};var b=a(1639),v=a(1357),k=a(1019),W=a(4458),U=a(3246),C=a(490),q=a(1233),D=a(4455),T=a(9984),z=a.n(T);const N=(0,b.Z)(y,[["render",S]]),I=N;z()(y,"components",{QAvatar:v.Z,QScrollArea:k.Z,QCard:W.Z,QList:U.Z,QItem:C.Z,QItemSection:q.Z,QBtn:D.Z})}}]);