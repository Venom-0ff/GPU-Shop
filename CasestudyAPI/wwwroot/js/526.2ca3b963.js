"use strict";(self["webpackChunkcasestudy"]=self["webpackChunkcasestudy"]||[]).push([[526],{5572:(e,t,a)=>{a.d(t,{C:()=>s,_:()=>r});const l="/api/",r=async e=>{let t,a=o();try{let r=await fetch(`${l}${e}`,{method:"GET",headers:a});t=await r.json()}catch(r){console.log(r),t={error:`Error has occured: ${r.message}`}}return t},s=async(e,t)=>{let a,r=o();try{let s=await fetch(`${l}${e}`,{method:"POST",headers:r,body:JSON.stringify(t)});a=await s.json()}catch(s){a=s}return a},o=()=>{const e=new Headers,t=JSON.parse(sessionStorage.getItem("customer"));return t?(e.append("Content-Type","application/json"),e.append("Authorization","Bearer "+t.token)):e.append("Content-Type","application/json"),e}},7081:(e,t,a)=>{a.d(t,{p6:()=>s,tF:()=>r,xG:()=>l});const l=e=>0!==e?`Starting at ${e.toLocaleString("en-US",{style:"currency",currency:"USD"})}`:"N/A",r=e=>null!==e?`${e.toLocaleString("en-US",{style:"currency",currency:"USD"})}`:"N/A",s=e=>{let t;t=void 0===e?new Date:new Date(Date.parse(e));let a=t.getDate(),l=t.getMonth()+1,r=t.getFullYear(),s=t.getHours(),o=t.getMinutes();return o<10&&(o="0"+o),r+"-"+l+"-"+a+" "+s+":"+o}},6526:(e,t,a)=>{a.r(t),a.d(t,{default:()=>N});var l=a(9835),r=a(6970);const s={class:"text-center"},o=(0,l._)("div",{class:"text-h5 q-mt-md"},"Your Order History",-1),c={class:"text-primary text-h6 q-mt-lg q-mb-lg"},d=(0,l.Uk)("#"),n=(0,l.Uk)("Date"),u={class:"text-h4 text-center"},i=(0,l.Uk)("Name"),m=(0,l.Uk)("S"),w=(0,l.Uk)("O"),p=(0,l.Uk)("BO"),f=(0,l.Uk)("Extended"),_=(0,l.Uk)(" Subtotal: "),g=(0,l.Uk)(" Tax(13%): "),h=(0,l.Uk)(" Total: ");function x(e,t,a,x,W,S){const k=(0,l.up)("q-item-label"),y=(0,l.up)("q-item-section"),U=(0,l.up)("q-item"),b=(0,l.up)("q-list"),q=(0,l.up)("q-card"),D=(0,l.up)("q-btn"),O=(0,l.up)("q-card-actions"),z=(0,l.up)("q-card-section"),T=(0,l.up)("q-dialog"),v=(0,l.Q2)("close-popup");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",s,[o,(0,l._)("div",c,(0,r.zw)(x.state.status),1)]),(0,l.Wm)(q,{class:"q-ma-sm"},{default:(0,l.w5)((()=>[(0,l.Wm)(b,{highlight:""},{default:(0,l.w5)((()=>[(0,l.Wm)(U,{class:"text-h5"},{default:(0,l.w5)((()=>[(0,l.Wm)(y,null,{default:(0,l.w5)((()=>[(0,l.Wm)(k,null,{default:(0,l.w5)((()=>[d])),_:1})])),_:1}),(0,l.Wm)(y,null,{default:(0,l.w5)((()=>[n])),_:1})])),_:1}),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(x.state.orders,(e=>((0,l.wg)(),(0,l.j4)(U,{clickable:"",key:e.id,onClick:t=>x.selectOrder(e.id)},{default:(0,l.w5)((()=>[(0,l.Wm)(y,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,r.zw)(e.id),1)])),_:2},1024),(0,l.Wm)(y,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,r.zw)(x.formatDate(e.orderDate)),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1}),(0,l.Wm)(T,{modelValue:x.state.selectedAnOrder,"onUpdate:modelValue":t[0]||(t[0]=e=>x.state.selectedAnOrder=e),"transition-show":"slide-down","transition-hide":"slide-up"},{default:(0,l.w5)((()=>[(0,l.Wm)(q,{style:{height:"auto",width:"100%"}},{default:(0,l.w5)((()=>[(0,l.Wm)(O,{align:"right",class:"q-pa-none"},{default:(0,l.w5)((()=>[(0,l.wy)((0,l.Wm)(D,{flat:"",label:"X",color:"primary",class:"text-h5"},null,512),[[v]])])),_:1}),(0,l.Wm)(z,{class:"q-pa-sm"},{default:(0,l.w5)((()=>[(0,l._)("div",u," Order #"+(0,r.zw)(x.state.orderDetails[0].orderId),1)])),_:1}),(0,l.Wm)(z,{class:"q-pa-none text-center"},{default:(0,l.w5)((()=>[(0,l._)("div",null,(0,r.zw)(x.state.orderDetails[0].orderDate),1)])),_:1}),(0,l.Wm)(z,{class:"q-ma-none"},{default:(0,l.w5)((()=>[(0,l.Wm)(b,{separator:""},{default:(0,l.w5)((()=>[(0,l.Wm)(U,null,{default:(0,l.w5)((()=>[(0,l.Wm)(y,{class:"col-6 text-bold"},{default:(0,l.w5)((()=>[i])),_:1}),(0,l.Wm)(y,{class:"col-1 text-bold"},{default:(0,l.w5)((()=>[m])),_:1}),(0,l.Wm)(y,{class:"col-1 text-bold"},{default:(0,l.w5)((()=>[w])),_:1}),(0,l.Wm)(y,{class:"col-1 text-bold"},{default:(0,l.w5)((()=>[p])),_:1}),(0,l.Wm)(y,{class:"col-3 text-bold text-center"},{default:(0,l.w5)((()=>[f])),_:1})])),_:1}),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(x.state.orderDetails,(e=>((0,l.wg)(),(0,l.j4)(U,{key:e.orderId},{default:(0,l.w5)((()=>[(0,l.Wm)(y,{class:"col-6"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,r.zw)(e.productName),1)])),_:2},1024),(0,l.Wm)(y,{class:"col-1"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,r.zw)(e.qtySold),1)])),_:2},1024),(0,l.Wm)(y,{class:"col-1"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,r.zw)(e.qtyOrdered),1)])),_:2},1024),(0,l.Wm)(y,{class:"col-1"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,r.zw)(e.qtyBackOrdered),1)])),_:2},1024),(0,l.Wm)(y,{class:"col-3 text-center"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,r.zw)(x.toUSD(e.price)),1)])),_:2},1024)])),_:2},1024)))),128)),(0,l.Wm)(U,null,{default:(0,l.w5)((()=>[(0,l.Wm)(y,{class:"col-9 text-bold text-right"},{default:(0,l.w5)((()=>[_])),_:1}),(0,l.Wm)(y,{class:"col-3 text-bold text-right"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,r.zw)(x.toUSD(x.state.priceSub)),1)])),_:1})])),_:1}),(0,l.Wm)(U,null,{default:(0,l.w5)((()=>[(0,l.Wm)(y,{class:"col-9 text-bold text-right"},{default:(0,l.w5)((()=>[g])),_:1}),(0,l.Wm)(y,{class:"col-3 text-bold text-right"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,r.zw)(x.toUSD(x.state.priceTax)),1)])),_:1})])),_:1}),(0,l.Wm)(U,null,{default:(0,l.w5)((()=>[(0,l.Wm)(y,{class:"col-9 text-bold text-right"},{default:(0,l.w5)((()=>[h])),_:1}),(0,l.Wm)(y,{class:"col-3 text-bold text-right"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,r.zw)(x.toUSD(x.state.priceTot)),1)])),_:1})])),_:1})])),_:1})])),_:1}),(0,l.Wm)(z,{class:"text-center text-positive text-h6 q-mb-xs q-mt-lg q-pa-none"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,r.zw)(x.state.dialogStatus),1)])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}var W=a(499),S=a(5572),k=a(7081);const y={setup(){let e=(0,W.qj)({status:"",orders:[],dialogStatus:"",selectedAnOrder:!1,orderDetails:[],orderSelected:{},priceSub:0,priceTax:0,priceTot:0});(0,l.bv)((()=>{t()}));const t=async()=>{try{let t=JSON.parse(sessionStorage.getItem("customer"));const a=await(0,S._)(`order/${t.email}`);void 0===a.error?(e.orders=a,e.status=`loaded ${e.orders.length} orders`):e.status=a.error}catch(t){console.log(t),e.status=`Error has occured: ${t.message}`}},a=async t=>{try{let a=JSON.parse(sessionStorage.getItem("customer"));const l=await(0,S._)(`order/${t}/${a.email}`);e.orderDetails=l,e.selectedAnOrder=!0,e.orderSelected=e.orders.find((e=>e.id===t)),e.priceSub=0,e.priceTax=0,e.priceTot=0,e.orderDetails.forEach((t=>{e.priceSub+=t.price*(t.qtySold+t.qtyBackOrdered),e.priceTax=.13*e.priceSub,e.priceTot=e.priceSub+e.priceTax}))}catch(a){console.log(a),e.status=`Error has occured: ${a.message}`}};return{state:e,formatDate:k.p6,toUSD:k.tF,selectOrder:a}}};var U=a(1639),b=a(4458),q=a(3246),D=a(490),O=a(1233),z=a(3115),T=a(7743),v=a(1821),$=a(4455),C=a(3190),Z=a(2146),Q=a(9984),A=a.n(Q);const I=(0,U.Z)(y,[["render",x]]),N=I;A()(y,"components",{QCard:b.Z,QList:q.Z,QItem:D.Z,QItemSection:O.Z,QItemLabel:z.Z,QDialog:T.Z,QCardActions:v.Z,QBtn:$.Z,QCardSection:C.Z}),A()(y,"directives",{ClosePopup:Z.Z})}}]);